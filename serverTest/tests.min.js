function uploadFile(){var n=new FormData,t;n.append("fileToUpload",document.getElementById("fileToUpload").files[0]),n.append("submit",document.getElementById("form1")),t=new rest.RESTRequest("http://cpairelasjunies.com/rest.php/"),t.request(rest.enumRequestVerb.POST,"pictures",n,function(n){var t,i,r;switch(n.status()){case core.eCallbackSignatureStatus.error:document.getElementById("fileUploadResult").innerHTML="Upload failed>>"+n.error()+"<<<";break;case core.eCallbackSignatureStatus.ok:t=n.value(),document.getElementById("fileUploadedID").innerHTML=t.status,console.log(t.value.id),i=document.getElementById("testDivFileId"),i.innerHTML=t.value.id,globImageUploaded=t.value.id,r=document.getElementById("testDivStart"),r.style.display="block"}})}function startTest(){var n=document.getElementById("testDivResult");n.style.display="block",core.app().PubSub.subscribe(new MsgTestStart,function(){paintsTests.test_postPaint()}),core.app().PubSub.subscribe(new MsgPostPaintsTested,function(){paintsTests.test_getPaint()}),core.app().PubSub.publish(new MsgTestStart)}var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},restPicturesTests=function(n){function t(t){n.call(this),this._imageCreatedForTest=t}return __extends(t,n),t.prototype.test_getListOfPictures=function(n,t){var i=new rest.RESTRequest("http://cpairelasjunies.com/rest.php/");i.request(rest.enumRequestVerb.GET,"pictures","",function(i){var r,u;switch(i.status()){case core.eCallbackSignatureStatus.error:n(i.error(),"test_getListOfPictures");break;case core.eCallbackSignatureStatus.ok:r=i.value(),r.status==="success"?(console.log(JSON.stringify(r.value)),t("test_getListOfPictures")):(u="status: Failed - "+r.error.message,n(Error(u),"test_getListOfPictures"))}})},t.prototype.test_deletePicture=function(n,t){var i=new rest.RESTRequest("http://cpairelasjunies.com/rest.php/");i.request(rest.enumRequestVerb.DELETE,"pictures/"+this._imageCreatedForTest,"",function(i){var r,u;switch(i.status()){case core.eCallbackSignatureStatus.error:n(i.error(),"test_deletePicture");break;case core.eCallbackSignatureStatus.ok:r=i.value(),r.status==="success"?(console.log(JSON.stringify(r.value)),t("test_deletePicture")):(u="status: Failed - "+r.error.message,n(Error(u),"test_deletePicture"))}})},t}(tsUnit.TestClass),restPaintsTests=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.test_postPaint2=function(n,t){var r=new rest.RESTRequest("http://cpairelasjunies.com/rest.php/"),i;this._paint=new Paints("notDefined","testName","testDescription","testYear 2013 May 5","test/pictures/azertyuiop.jpg"),i=this,r.request(rest.enumRequestVerb.POST,"paints",this._paint,function(r){var u,f;switch(r.status()){case core.eCallbackSignatureStatus.error:n(r.error(),"test_postPaint");break;case core.eCallbackSignatureStatus.ok:u=r.value(),u.status==="success"?(console.log("test_postPaint:"+JSON.stringify(u.value)),i._paint.id=u.value.id,t("test_postPaint")):(f="status: Failed - "+u.error.message,n(Error(f),"test_postPaint"))}})},t.prototype.test_postPaint=function(){var t=new rest.RESTRequest("http://cpairelasjunies.com/rest.php/"),n;this._paint=new Paints("notDefined","testName","testDescription","testYear 2013 May 5","test/pictures/azertyuiop.jpg"),n=this,t.request(rest.enumRequestVerb.POST,"paints",this._paint,function(t){var i,r;switch(t.status()){case core.eCallbackSignatureStatus.error:core.app().PubSub.publish(new MsgPostPaintsTested);break;case core.eCallbackSignatureStatus.ok:i=t.value(),i.status==="success"?(console.log("test_postPaint:"+JSON.stringify(i.value)),n._paint.id=i.value.id,core.app().PubSub.publish(new MsgPostPaintsTested)):(r="status: Failed - "+i.error.message,core.app().PubSub.publish(new MsgPostPaintsTested))}})},t.prototype.test_getPaint2=function(n,t){var i=new rest.RESTRequest("http://cpairelasjunies.com/rest.php/");i.request(rest.enumRequestVerb.POST,"paints",""+this._paint.id,function(i){var r,u;switch(i.status()){case core.eCallbackSignatureStatus.error:n(i.error(),"test_getPaint");break;case core.eCallbackSignatureStatus.ok:r=i.value(),r.status==="success"?(console.log("test_getPaint:"+JSON.stringify(r.value)),t("test_getPaint")):(u="status: Failed - "+r.error.message,n(Error(u),"test_getPaint"))}})},t.prototype.test_getPaint=function(){var n=new rest.RESTRequest("http://cpairelasjunies.com/rest.php/");n.request(rest.enumRequestVerb.POST,"paints",""+this._paint.id,function(n){var t,i;switch(n.status()){case core.eCallbackSignatureStatus.error:core.app().PubSub.publish(new MsgGetPaintsTested);break;case core.eCallbackSignatureStatus.ok:t=n.value(),t.status==="success"?(console.log("test_getPaint:"+JSON.stringify(t.value)),core.app().PubSub.publish(new MsgGetPaintsTested)):(i="status: Failed - "+t.error.message,core.app().PubSub.publish(new MsgGetPaintsTested))}})},t}(tsUnit.TestClass),globImageUploaded;window.onload=function(){core.setApp(window,!0)};var MsgTestStart=function(){function n(){}return n}(),MsgPostPaintsTested=function(){function n(){}return n}(),MsgGetPaintsTested=function(){function n(){}return n}(),paintsTests=new restPaintsTests