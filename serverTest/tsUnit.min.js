var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},tsUnit;(function(n){var o=function(){function n(){this.tests=[],this.testClass=new r,this.testResult=new u}return n.prototype.addTestClass=function(n,t){typeof t=="undefined"&&(t="Tests"),this.tests.push(new s(n,t))},n.prototype.isReservedFunctionName=function(n){for(var t in this.testClass)if(t===n)return!0;return!1},n.prototype.run=function(n){for(var i,e,r,f,o,u=0;u<this.tests.length;++u){i=this.tests[u].testClass,e=this.tests[u].name,typeof i.setUp=="function"&&i.setUp();for(r in i)if(r.match("test_*")&&typeof i[r]=="function")try{f=this,o=r,i[r](function(i,r){f.testResult.errors.push(new t(e,r,i.message)),f.showResults(n)},function(i){f.testResult.passes.push(new t(e,i,"OK")),f.showResults(n)})}catch(s){this.testResult.errors.push(new t(e,r,s.message)),this.showResults(n)}typeof i.tearDown=="function"&&i.tearDown()}},n.prototype.showResults=function(n){var t="<article><h1>"+this.getTestResult(this.testResult)+"<\/h1><p>"+this.getTestSummary(this.testResult)+'<\/p><section id="tsFail"><h2>Errors<\/h2><ul class="bad">'+this.getTestResultList(this.testResult.errors)+'<\/ul><\/section><section id="tsOkay"><h2>Passing Tests<\/h2><ul class="good">'+this.getTestResultList(this.testResult.passes)+"<\/ul><\/section><\/article>";n.innerHTML=t},n.prototype.getTestResult=function(n){return n.errors.length===0?"Test Passed":"Test Failed"},n.prototype.getTestSummary=function(n){return'Total tests: <span id="tsUnitTotalCout">'+(n.passes.length+n.errors.length).toString()+'<\/span>. Passed tests: <span id="tsUnitPassCount" class="good">'+n.passes.length+'<\/span>. Failed tests: <span id="tsUnitFailCount" class="bad">'+n.errors.length+"<\/span>."},n.prototype.getTestResultList=function(n){for(var i="",u="",f=!0,t,r=0;r<n.length;++r)t=n[r],t.testName!==u&&(u=t.testName,f?f=!1:i+="<\/li><\/ul>",i+="<li>"+t.testName+"<ul>"),i+="<li>"+t.funcName+"(): "+this.encodeHtmlEntities(t.message)+"<\/li>";return i+"<\/ul>"},n.prototype.encodeHtmlEntities=function(n){var t={"&":"&amp;","<":"&lt;",">":"&gt;"};return n.replace(/[&<>]/g,function(n){return t[n]||n})},n}(),i,r,f,e,u;n.Test=o,i=function(){function n(){}return n.prototype.setUp=function(){},n.prototype.tearDown=function(){},n.prototype.areIdentical=function(n,t){if(n!==t)throw"areIdentical failed when passed {"+typeof n+'} "'+n+'" and {'+typeof t+'} "'+t+'"';},n.prototype.areNotIdentical=function(n,t){if(n===t)throw"areNotIdentical failed when passed {"+typeof n+'} "'+n+'" and {'+typeof t+'} "'+t+'"';},n.prototype.isTrue=function(n){if(!n)throw"isTrue failed when passed {"+typeof n+'} "'+n+'"';},n.prototype.isFalse=function(n){if(n)throw"isFalse failed when passed {"+typeof n+'} "'+n+'"';},n.prototype.isTruthy=function(n){if(!n)throw"isTrue failed when passed {"+typeof n+'} "'+n+'"';},n.prototype.isFalsey=function(n){if(n)throw"isFalse failed when passed {"+typeof n+'} "'+n+'"';},n.prototype.throws=function(n){var t=!1;try{n()}catch(i){t=!0}if(!t)throw"did not throw an error";},n.prototype.notThrows=function(n){try{n()}catch(t){throw t;}},n.prototype.fail=function(){throw"fail";},n}(),n.TestContext=i,r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i),n.TestClass=r,f=function(){function n(n,t){this.name=n,this.delgate=t}return n}(),n.FakeFunction=f,e=function(){function n(n){for(var t in n)this[t]=typeof n[t]=="function"?function(){}:null}return n.prototype.create=function(){return this},n.prototype.addFunction=function(n,t){this[n]=t},n.prototype.addProperty=function(n,t){this[n]=t},n}(),n.Fake=e;var s=function(){function n(n,t){this.testClass=n,this.name=t}return n}(),h=function(){function n(n,t){this.name=n,this.message=t}return n}(),t=function(){function n(n,t,i){this.testName=n,this.funcName=t,this.message=i}return n}();n.TestDescription=t,u=function(){function n(){this.passes=[],this.errors=[]}return n}(),n.TestResult=u})(tsUnit||(tsUnit={}))